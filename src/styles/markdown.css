/*!
 * Markdown + Notion Reading System
 * Optimized Typography Layer
 */

/* Base */
.heti {
  --at-apply: 'break-words leading-1.9 hyphens-auto text-1.05rem cjk:tracking-0.02em';
  max-width: 720px;
  margin: 0 auto;
}

/* Title */
.heti .post-title {
  --at-apply: 'mt-0 mb-4 text-9 font-semibold leading-1.2';
}

/* Headings */
.heti :where(h1, h2, h3, h4, h5, h6) {
  --at-apply: 'scroll-mt-20 font-semibold text-balance';
  margin-top: 2.4rem;
  margin-bottom: 1rem;
}

.heti h1 { --at-apply: 'text-8 c-primary'; }
.heti h2 { --at-apply: 'text-7 c-primary'; }
.heti h3 { --at-apply: 'text-6'; }
.heti h4 { --at-apply: 'text-5'; }
.heti h5 { --at-apply: 'text-4.5'; }
.heti h6 { --at-apply: 'text-4'; }

/* Paragraph */
.heti :where(p:not(.no-heti):not(.no-heti *)) {
  margin: 1.4rem 0;
  --at-apply: 'text-pretty cjk:text-justify';
}

/* Links */
.heti a {
  --at-apply: 'underline decoration-secondary/60 underline-offset-3 transition-colors';
}
.heti a:hover {
  --at-apply: 'c-primary decoration-primary';
}

/* Images */
.heti img {
  display: block;
  margin: 2rem auto;
  border-radius: 14px;
  max-width: 100%;
}

/* Figures */
.heti figure {
  margin: 2rem 0;
}
.heti figcaption {
  --at-apply: 'text-sm c-secondary/70 text-center mt-2';
}

/* Lists */
.heti ul,
.heti ol {
  margin: 1.6rem 0;
  padding-left: 1.6rem;
}
.heti li {
  margin: 0.5rem 0;
}

/* Blockquote */
.heti blockquote {
  margin: 2rem 0;
  padding-left: 1.2rem;
  border-left: 4px solid oklch(var(--un-preset-theme-colors-secondary) / 0.4);
  --at-apply: 'c-secondary/85';
}

/* Code Block */
.heti pre {
  margin: 2rem 0;
  padding: 1.4rem;
  border-radius: 14px;
  overflow-x: auto;
  --at-apply: 'bg-secondary/5';
}

.heti pre code {
  --at-apply: 'bg-transparent p-0';
}

/* Inline Code */
.heti code:not(pre code) {
  --at-apply: 'px-0.4em py-0.2em text-0.9em bg-secondary/10 rounded-md';
}

/* Tables */
.heti table {
  margin: 2rem 0;
  width: 100%;
  border-collapse: collapse;
}
.heti th,
.heti td {
  padding: 0.6rem;
  border-bottom: 1px solid oklch(var(--un-preset-theme-colors-secondary) / 0.2);
}

/* Divider */
.heti hr {
  margin: 3rem 0;
  border: none;
  text-align: center;
}
.heti hr::before {
  content: "* * *";
  opacity: 0.3;
}

/* Sup/Sub */
.heti sub,
.heti sup {
  font-size: 0.75em;
  position: relative;
}
.heti sup { top: -0.4em; }
.heti sub { bottom: -0.2em; }

/* Toggle (Notion support) */
.heti details {
  margin: 1.5rem 0;
}
.heti summary {
  cursor: pointer;
  font-weight: 600;
}

/* Callout */
.heti .notion-callout {
  margin: 2rem 0;
  padding: 1rem 1.2rem;
  border-radius: 12px;
  background: oklch(var(--un-preset-theme-colors-secondary) / 0.08);
}

/* Columns */
.heti .columns {
  display: grid;
  gap: 2rem;
}
@media (min-width: 900px) {
  .heti .columns {
    grid-template-columns: 1fr 1fr;
  }
}

/* Improve Reading Focus */
.post-page {
  padding: 4rem 1.2rem;
}
